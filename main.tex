\documentclass[titlepage, a4paper,10pt]{article}
\usepackage{listings, courier, color, setspace, titlesec, fancyhdr, dingbat, mdframed, multicol}
\usepackage{graphicx, amssymb, amsmath, textcomp, booktabs}
\usepackage[left=1.5cm, right=0.4cm, top=1.7cm, bottom=0.0cm]{geometry}
\usepackage{pdfpages}
\usepackage{tocloft}
\usepackage{nameref}
\usepackage{verbatim}

\pagestyle{fancy}
\setlength{\headsep}{0.1cm}
\rhead{Page \thepage}
\lhead{Luna's Magic Reference}
\setlength{\columnsep}{16pt}

\titleformat{\section}
{\huge}	
{\thesection.}
{4pt}		
{}		
\titlespacing{\section}{0pt}{0pt}{0pt}
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\titlespacing{\subsubsection}{0pt}{0pt}{0pt}

\lstset{
	basicstyle=\footnotesize\ttfamily,
	breaklines=true,
	frame=single,
	language=c++,
	tabsize=1,
}

\title{\LARGE{Luna's Magic Reference}}
\author{Suzune Nisiyama}
\date{\today}

\begin{document}
	\maketitle
	\begin{multicols}{2}
		\setcounter{tocdepth}{2}
		\begingroup
		\let\cleardoublepage\relax
		\let\clearpage\relax
		\tableofcontents
		\newpage
		\begin{spacing}{0.6}
		\section{Data Structure}
			\subsection{KD tree}
				\lstinputlisting{src/kd_tree.cpp}
			\subsection{Splay}
				\lstinputlisting{src/splay_operations.cpp}
			\subsection{Link-cut tree}
				\lstinputlisting{src/lct_access.cpp}
		\end{spacing}
		\endgroup
	\end{multicols}
	
\end{document}

