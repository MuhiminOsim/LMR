\documentclass[titlepage, a4paper,10pt]{article}
\usepackage{listings, courier, color, xcolor, setspace, fancyhdr, dingbat, mdframed, multicol}
\usepackage{graphicx, amssymb, amsmath, textcomp, booktabs}
\usepackage[left=1.5cm, right=0.4cm, top=1.7cm, bottom=0.0cm]{geometry}
\usepackage{pdfpages}
\usepackage{tocloft}
\usepackage{nameref}
\usepackage{verbatim}
\usepackage{enumitem}
\usepackage{mathtools}

\pagestyle{fancy}
\setlength{\headsep}{0.1cm}
\rhead{Page \thepage}
\lhead{Luna's Magic Reference}
\setlength{\columnsep}{16pt}

\titlespacing{\section}{0pt}{0pt}{0pt}
\titlespacing{\subsection}{0pt}{0pt}{0pt}
\titlespacing{\subsubsection}{0pt}{0pt}{0pt}

\definecolor{numbercolor}{rgb}{.3,0,0}
\definecolor{identifiercolor}{rgb}{.3,0,.3}
\definecolor{commentcolor}{rgb}{0,.5,0}
\definecolor{keywordcolor}{rgb}{0,0,.5}

\lstset{
	basicstyle=\footnotesize\bfseries\ttfamily,
	breaklines=true,
	frame=single,
	language=c++,
	mathescape=true,
	tabsize=1,
	numbers=left,
	numbersep=3.5pt,
	numberstyle=\tiny\bfseries\ttfamily\color{numbercolor},
	identifierstyle=\color{identifiercolor},
	commentstyle=\color{commentcolor},
	keywordstyle=\color{keywordcolor},
}

\def \bangle{ \atopwithdelims \langle \rangle}
\DeclarePairedDelimiter\ceil{\lceil}{\rceil}
\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}

\title{Luna's Magic Reference} 
\author{Suzune Nisiyama}
\date{\today\\ \vspace{100pt} \noindent\rule{\textwidth}{1pt}\\ \vspace{100pt} \normalsize\begin{raggedright}\input{LICENSE}\end{raggedright}}

\begin{document}
	\maketitle
	\begin{multicols}{2}
		\setcounter{tocdepth}{2}
		\begingroup
		\let\cleardoublepage\relax
		\let\clearpage\relax
		\tableofcontents
		\newpage
		\begin{spacing}{0.6}
		{\footnotesize
		\section{Environment}
			\subsection{Vimrc}
				\lstinputlisting[language=]{src/environment/vimrc}
		\section{Data Structure}
			\subsection{KD tree}
				\lstinputlisting{src/data_structure/kd_tree.cpp}
			\subsection{Splay}
				\lstinputlisting{src/data_structure/splay_operations.cpp}
			\subsection{Link-cut tree}
				\lstinputlisting{src/data_structure/lct_access.cpp}
		\section{Formula}
			\subsection{Zellerâ€™s congruence}
				\lstinputlisting{src/formula/zeller.cpp}
			\subsection{Lattice points below segment}
				\lstinputlisting{src/formula/lattice.cpp}
			\subsection{Adaptive Simpson's method}
				\lstinputlisting{src/formula/simpson.cpp}
			\subsection{Neural network}
				\lstinputlisting{src/formula/neural_network.cpp}
		\section{Number theory}
			\subsection{Fast power module}
				\lstinputlisting{src/number_theory/fpm.cpp}
			\subsection{Euclidean algorithm}
				\lstinputlisting{src/number_theory/exgcd.cpp}
			\subsection{Discrete Fourier transform}
				\lstinputlisting{src/number_theory/dft.cpp}
			\subsection{Fast Walsh-Hadamard transform}
				\lstinputlisting{src/number_theory/fwt.cpp}
			\subsection{Number theoretic transform}
				\lstinputlisting{src/number_theory/ntt.cpp}
			\subsection{Polynomial operation}
				\lstinputlisting{src/number_theory/polynomial.cpp}
			\subsection{Chinese remainder theorem}
				\lstinputlisting{src/number_theory/crt.cpp}
			\subsection{Linear Recurrence}
				\lstinputlisting{src/number_theory/linear_rec.cpp}
			\subsection{Berlekamp Massey algorithm}
				\lstinputlisting{src/number_theory/berlekamp_massey.cpp}
			\subsection{Baby step giant step algorithm}
				\lstinputlisting{src/number_theory/bsgs.cpp}
			\subsection{Pell equation}
				\lstinputlisting{src/number_theory/pell.cpp}
			\subsection{Quadric residue}
				\lstinputlisting{src/number_theory/quadric_residue.cpp}
			\subsection{Miller Rabin primality test}
				\lstinputlisting{src/number_theory/miller_rabin.cpp}
			\subsection{Pollard's Rho algorithm}
				\lstinputlisting{src/number_theory/pollard_rho.cpp}
		\section{Geometry}
				\lstinputlisting{src/geometry/geometry.cpp}
			\subsection{Point}
				\lstinputlisting{src/geometry/point.cpp}
			\subsection{Line}
				\lstinputlisting{src/geometry/line.cpp}
			\subsection{Circle}
				\lstinputlisting{src/geometry/circle.cpp}
			\subsection{Centers of a triangle}
				\lstinputlisting{src/geometry/center.cpp}
			\subsection{Fermat point}
				\lstinputlisting{src/geometry/fermat.cpp}
			\subsection{Convex hull}
				\lstinputlisting{src/geometry/convex_hull.cpp}
			\subsection{Half plane intersection}
				\lstinputlisting{src/geometry/half_plane_intersection.cpp}
			\subsection{Nearest pair of points}
				\lstinputlisting{src/geometry/nearest_pair.cpp}
			\subsection{Minimum circle}
				\lstinputlisting{src/geometry/minimum_circle.cpp}
			\subsection{Intersection of a polygon and a circle}
				\lstinputlisting{src/geometry/polygon_circle_intersect.cpp}
			\subsection{Union of circles}
				\lstinputlisting{src/geometry/circle_union.cpp}
			\subsection{3D point}
				\lstinputlisting{src/geometry/point3.cpp}
			\subsection{3D line}
				\lstinputlisting{src/geometry/line3.cpp}
			\subsection{3D convex hull}
				\lstinputlisting{src/geometry/convex_hull3.cpp}
		\section{Graph}
				\lstinputlisting{src/graph/graph.cpp}
			\subsection{Hopcoft-Karp algorithm}
				\lstinputlisting{src/graph/hopcoft_karp.cpp}
			\subsection{Kuhn-Munkres algorithm}
				\lstinputlisting{src/graph/kuhn_munkres.cpp}
			\subsection{Blossom algorithm}
				\lstinputlisting{src/graph/blossom.cpp}
			\subsection{Weighted blossom algorithm}
				\lstinputlisting{src/graph/weighted_blossom.cpp}
			\subsection{Maximum flow}
				\lstinputlisting{src/graph/maximum_flow.cpp}
			\subsection{Minimum cost flow}
				\lstinputlisting{src/graph/minimum_cost_flow.cpp}
			\subsection{Stoer Wagner algorithm}
				\lstinputlisting{src/graph/stoer_wagner.cpp}
			\subsection{DN maximum clique}
				\lstinputlisting{src/graph/maximum_clique.cpp}
			\subsection{Dominator tree}
				\lstinputlisting{src/graph/dominator_tree.cpp}
			\subsection{Tarjan}
				\lstinputlisting{src/graph/tarjan.cpp}
		\section{String}
			\subsection{Manacher}
				\lstinputlisting{src/string/manacher.cpp}
			\subsection{Suffix Array}
				\lstinputlisting{src/string/suffix_array.cpp}
			\subsection{Suffix Automaton}
				\lstinputlisting{src/string/suffix_automaton.cpp}
			\subsection{Palindromic tree}
				\lstinputlisting{src/string/palindromic_tree.cpp}
			\subsection{Regular expression}
				\lstinputlisting[mathescape=false]{src/string/regex.cpp}
		\section{Tips}
			\subsection{Java}
				\lstinputlisting[language=java]{src/tips/Main.java}
			\subsection{Random numbers}
				\lstinputlisting{src/tips/random.cpp}
			\subsection{Read hack}
				\lstinputlisting{src/tips/read_hack.cpp}
			\subsection{Stack hack}
				\lstinputlisting{src/tips/stack_hack.cpp}
			\subsection{Time hack}
				\lstinputlisting{src/tips/time_hack.cpp}
			\subsection{Builtin functions}
				\input{tex/builtin.tex}
			\subsection{Prufer sequence}
				\input{tex/prufer_sequence.tex}
			\subsection{Spanning tree counting}
				\input{tex/spanning_tree_counting.tex}
			\subsection{Mobius inversion}
				\input{tex/mobius.tex}
			\subsection{2-SAT}
				\input{tex/2_sat.tex}
			\subsection{Interesting numbers}
				\input{tex/numbers.tex}
		\section{Appendix}
			\subsection{Calculus table}
				\input{tex/derivative.tex}
				\input{tex/integration.tex}
			\subsection{Regular expression}
				\input{tex/regex.tex}
		}
		\end{spacing}
		\endgroup
	\end{multicols}
\end{document}

